(()=>{"use strict";const t=class{defaultUrl="";params="";setKey(t){if(!t)throw new Error("missed paramete for setting apikey");this.defaultUrl+=`&appid=${t}`}async search(t){this.searchConfig(t);let a=this.defaultUrl+=this.params;const e=await fetch(a),s={};return s.result=e.ok,s.data=await e.json(),this.params="",console.log(s),s}searchConfig(t){for(const a of Object.entries(t))this.attachUrlParams(a)}attachUrlParams(t){const[a,e]=t;switch(a){case"city":this.params+=`&q=${e}`;break;case"language":this.params+=`&lang=${e}`}}},a=class extends t{constructor(t){super(),this.setKey(t)}defaultUrl="https://api.openweathermap.org/data/2.5/weather?"},e=class extends t{constructor(t){super(),this.setKey(t)}defaultUrl="http://api.openweathermap.org/geo/1.0/direct?limit=5"};window.search=function(t){return{weatherDispatcher:new a(t),searchCities:new e(t)}}})();