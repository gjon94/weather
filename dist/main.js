(()=>{"use strict";const t=class{defaultUrl="";params="";setKey(t){if(!t)throw new Error("missed paramete for setting apikey");this.defaultUrl+=`&appid=${t}`}async search(t){this.searchConfig(t);let s=this.defaultUrl+=this.params;const a=await fetch(s),e={};return e.result=a.ok,e.data=await a.json(),this.params="",console.log(e),e}searchConfig(t){for(const s of Object.entries(t))this.attachUrlParams(s)}attachUrlParams(t){const[s,a]=t;switch(s){case"city":this.params+=`&q=${a}`;break;case"language":this.params+=`&lang=${a}`}}},s=class extends t{constructor(t){super(),this.setKey(t)}defaultUrl="https://api.openweathermap.org/data/2.5/weather?"},a=class extends t{constructor(t){super(),this.setKey(t)}defaultUrl="http://api.openweathermap.org/geo/1.0/direct?limit=5"};window.search=class{constructor(t){return this.apiKey=t,this.fn()}fn(){return{weatherDispatcher:new s(this.apiKey),searchCities:new a(this.apiKey)}}}})();